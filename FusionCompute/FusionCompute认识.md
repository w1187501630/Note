## FusionCompute认识

### 简介

​		FusionCompute是云操作系统软件。主要负责硬件资源的虚拟化，以及对虚拟资源、业务资源、用户资源的集中管理。

​		它采用虚拟计算、虚拟存储、虚拟网络等技术，完成计算资源、存储资源、网络资源的虚拟化。同时通过统一的接口，对这些虚拟资源进行集中调度和管理，从而降低业务的运行成本，保证系统的安全性和可靠性，协助运营商和企业构筑安全、绿色、节能的云数据中心能力。

### 模块组成

| 模块 |                             功能                             |
| :--: | :----------------------------------------------------------: |
| CNA  | 提供虚拟计算功能<br/>管理计算节点上的虚拟机<br/>管理计算节点上的计算、存储、网络资源 |
| VRM  | 管理集群内的块存储资源<br/>管理集群内的网络资源(IP/VLAN)，为虚拟机分配IP地址<br/>管理集群内虚拟机的生命周期以及虚拟机在计算节点上的分布和迁移<br/>管理集群内资源的动态调整<br/>通过对虚拟资源、用户数据的统一管理，对外提供弹性计算、存储、IP等服务<br/>通过提供统一的操作维护管理接口，操作维护人员通过WebUI远程访问FusionCompute对整个系统进行操作维护，包含资源管理、资源监控、资源报表等。 |

### 功能描述

​		FusionCompute用于向最终用户提供随需使用的计算能力，以及为支撑计算能力而必须配套的存储及网络能力。包括如下具体功能：

##### **虚拟化计算引擎**		

​		通过在云用户操作系统实例与底层物理X86服务器硬件平台之间插入虚拟机管理层，将一台物理服务器以运行环境虚拟化仿真的形式，实现了多个客户机操作系统实例（可以是相同的，或者异构的操作系统）对不断提升的强劲服务器硬件处理能力（CPU、内存、外部存储、网络I/O等资源）的动态共享及资源利用率的提升。

##### **虚拟机管理**

​		虚拟机资源的发放及生命周期管理：处理来自运营管理子系统，或第三方用户的弹性计算服务请求，依据请求中定义的虚拟机规格，网络要求等，选择合适的物理资源创建虚拟机。在使用过程中，用户可以随时启动，停止，重启，休眠，迁移，修改甚至销毁自己的虚拟机。

##### **虚拟机模板管理**

​		虚拟机模板用于在虚拟机创建时根据模板制作虚拟机的卷。当需要根据虚拟机模板部署虚拟机时，管理系统会将指定模板的卷数据复制到虚拟机卷中。系统支持由虚拟机与虚拟机模板的相互转换，支持导入、导出虚拟机模板，支持虚拟机克隆为虚拟机模板以及虚拟机模板生命周期管理。

##### **虚拟网络管理**：

​		虚拟分布式交换机管理：网络子系统支持虚拟分布式交换生命周期管理。用户可创建、修改、删除虚拟分布式交换机；还可以通过配置虚拟分布式交换机将虚拟网络与物理网络关联起来。

虚拟网卡管理: 虚拟网络平面的发放及生命周期管理：用户创建虚拟机时，可以指定虚拟机的虚拟网卡，虚拟网络平面等属性。在虚拟机停机的状态下，用户可以调整虚拟网卡，虚拟网络平面的属性。

##### **虚拟存储管理**：

卷设备管理：存储子系统支持用户选择虚拟存储设备自主创建、删除卷设备。

虚拟硬盘：向虚拟机上挂载或卸载由存储子系统提供的卷设备。

##### **虚拟机安全管理**

​		用户权限身份的认证：收到来自用户的业务请求时，需要与保存的用户信息进行校验，以确认用户的身份及权限。

##### **资源调度管理**

​		虚拟机运行时需要占用资源，包括CPU，内存，存储，网络等。资源调度管理功能，通过预设的调度策略对系统中的虚拟机进行迁移调度，包括：

​		资源负载均衡：尽量使整个平台中的服务器上的CPU，内存，网络等资源均衡使用。此策略在需要保证用户感受时使用。

​		节能减排：尽量将虚拟机集中到一部份服务器，并将剩余的服务器关闭。此策略在需要降低能耗时使用。

​		虚拟机组调度：用户可以根据需要将资源集群下一组虚拟机设置互斥或聚合。在计算节点资源充足情况下，系统自动将互斥的虚拟机分散在不同节点上，将聚合的虚拟机聚集在同一节点上。

##### **虚拟机可靠性管理**

​		对于需要保障其可靠性的虚拟机，系统会实时检测虚拟机的状态，当该虚拟机故障时，系统会自动重启/迁移该虚拟机，以便保证最终用户的业务可靠性。用户可以在创建虚拟机时指定是否需要该能力。



